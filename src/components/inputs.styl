/*
  chilli-seed | inputs
  ============================== */

$checkboxSize = 20px
$checkmarkSize = 10px

// Text

input[type='text']
  height $lineHeight
  padding 0 $indent
  border $border
  border-radius $borderRadius
  border-color $colorGreyAlt
  outline 0
  transition border-color $transitionDuration $transitionEasing

  &:hover:not([disabled])
    border-color $colorGrey

  &:focus:not([disabled])
    border-color $colorBlue

  &[required]:valid:not([disabled])
    border-color $colorGreen

  &:invalid:not([disabled])
    color $colorRed
    border-color $colorRed

  &[disabled]
    color $colorGrey
    background-color $colorGreyLight
    border-color $colorGreyAlt

// Checkbox, Radio

// TODO: solve the will-change blurry transform

checkbox(type = checkbox, pos = left)
  hide(display)

  + span:first-of-type
    display inline-block
    position relative
    if pos is left
      padding-left ($checkboxSize + 5px)
    else if pos is right
      padding-right ($checkboxSize + 5px)
    cursor pointer
    transform-style preserve-3d

    &:before
    &:after
      pseudo(inline-block)
      position absolute
      top 50%

    &:before
      if pos is left
        left 0
      else if pos is right
        right 0
      transform translateY(-50%)
      width $checkboxSize
      height @width
      border $border
      if type is checkbox
        border-radius $borderRadius
      else if type is radio
        circle()

    &:after
      opacity 0
      transform-origin 50% 50%
      transition all $transitionDuration $transitionEasing
      will-change transform
      if type is checkbox
        icon($icon-checkmark)
        color $colorBlue
        font-size $checkmarkSize
        transform translateY(-50%) scale(0.6) rotate(-30deg)
        if pos is left
          left 3px
        else if pos is right
          right 3px
      else if type is radio
        width $checkmarkSize
        height @width
        background-color $colorBlue

        circle()
        if pos is left
          left ($checkboxSize/2)
          transform translateX(-50%) translateY(-50%) scale(0.1)
        else if pos is right
          right ($checkboxSize/2)
          transform translateX(50%) translateY(-50%) scale(0.1)

  &:checked + span:after
    opacity 1
    if type is checkbox
      transform translateY(-50%)
    else if type is radio
      if pos is left
        transform translateX(-50%) translateY(-50%)
      else if pos is right
        transform translateX(50%) translateY(-50%)

input[type='checkbox']
  checkbox()

input[type='radio']
  checkbox(radio, right)
